# 🛒 基于深度学习的电商评论情感分析系统 (Pro 增强版)

> **Graduation Project: E-commerce Review Sentiment Analysis System based on Deep Learning**

本项目为一个集成了自然语言处理（NLP）与交互式数据可视化的综合型信息系统。系统核心基于 **LSTM (长短期记忆神经网络)** 进行情感倾向分类（正向/负向），并结合规则匹配实现多维度的业务特征提取。系统包含完整的模型训练管线与具备权限管理的 Web 终端，支持单条文本的实时推断以及大规模数据的批量挖掘。

---

## 📂 项目工程结构

- **`model/run_model.py`**：核心训练与推断模型脚本。
  - 负责加载数据集、执行文本序列预处理（分词、截断与填充）、构建与训练 LSTM 神经网络，并导出最终的模型权重。
- **`model/web_demo.py`**：可视化应用主程序（系统入口）。
  - 基于 Streamlit 框架构建的企业级交互界面。系统化集成了用户鉴权、数据监控大屏、实时诊断、批量挖掘与参数配置等核心业务模块。
- **`data/`**：数据存储目录。
  - 存放原始测试与训练数据集（例如 `ChnSentiCorp_htl_all.csv`）。
- **`sentiment_model.pth`**：预训练模型权重文件。
  - 由训练脚本生成，系统 Web 终端在初始化时需加载此参数进行实时推断。
- **`users.db`**：系统用户数据库。
  - 采用 SQLite 构建的轻量级本地数据库，由 Web 终端自动生成，用于持久化存储管理员账户及加密凭证。

---

## 🛠️ 环境依赖与配置

为确保系统各项模块（尤其是交互式图表与词云生成）正常运行，请在部署前安装以下核心依赖包：

```bash
pip install torch pandas jieba streamlit plotly matplotlib wordcloud

```

---

## 🚀 系统部署与启动指南

### 1. 模型训练阶段 (按需执行)

若需重构词表或重新训练神经网络，请在项目根目录下执行以下指令。训练进程结束后，系统将在当前路径自动覆盖生成 `sentiment_model.pth` 权重文件。

```bash
python model/run_model.py

```

> **注**：控制台将同步打印训练过程中的 Epoch 迭代状态、损失值（Loss）及准确率（Accuracy）等评估指标。

### 2. 启动系统可视化终端 (核心演示)

请在终端执行以下指令以启动系统的 Web 服务环境：

```bash
streamlit run model/web_demo.py

```

**系统成功运行并在浏览器载入后，将呈现以下核心业务模块：**

1. **🔐 安全鉴权中心**：采用 SHA-256 加密算法的登录拦截与注册模块，保障系统操作的数据安全性。
2. **📊 全局监控大屏 (Dashboard)**：基于 Plotly 驱动的交互式可视化面板，直观呈现总体情感极性占比、业务维度关注度排行及情感交叉分析矩阵。
3. **📝 单文本诊断诊断 (Single Test)**：针对单条评论的实时分析引擎。即刻输出情感极性判定、模型置信度以及所涉及的具体业务维度（如“服务体验”、“卫生与设施”等）。
4. **📂 数据批量挖掘 (Batch Mining)**：支持大规模 CSV 格式文本数据的自动化清洗、全量推断、打标及结果包的结构化导出。
5. **⚙️ 系统参数配置 (Settings)**：提供自定义停用词库的动态扩展及判定阈值的灵活调整。

---

## 🧠 核心技术栈说明

- **深度学习架构**：`nn.Embedding` -> `nn.LSTM` (Hidden Dim: 128) -> `nn.Linear`。
- **自然语言处理**：运用 `jieba` 进行中文分词，针对序列数据执行统一长度的截断与零填充策略 (MAX_LEN: 50)。
- **持久化与加密**：整合内置 `sqlite3` 构建关系型存储，结合 `hashlib` 实现用户密码的不可逆加密验证。

---

## ⚠️ 运行注意事项

1. **执行路径规范**：请务必保证启动指令时的终端工作路径位于本项目的**根目录**，切勿在 `model` 子目录内直接运行，以避免静态资源及数据文件发生相对路径解析异常。
2. **冷启动降级策略**：若 Web 终端启动时提示“未检测到模型文件”，系统将自动降级至**演示模式**（部分分析结果由模拟算法生成）。为保障系统的完整推断体验，建议优先执行训练脚本生成 `sentiment_model.pth`。

```

```
