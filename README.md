# 🛒 基于深度学习的电商评论情感分析系统

> **Graduation Project: E-commerce Review Sentiment Analysis System based on Deep Learning**

本项目是一个基于 **LSTM (长短期记忆网络)** 的情感分析系统，旨在自动识别电商/酒店评论的情感倾向（好评/差评）。系统包含完整的**模型训练脚本**以及一个**可视化的 Web 操作界面**，支持单条文本测试和批量 CSV 文件分析。

---

## 📂 项目结构说明

- **`model/run_model.py`**：核心训练脚本。
- 负责读取数据、预处理、搭建 LSTM 网络、训练模型，并最终保存模型参数 (`sentiment_model.pth`)。

- **`model/web_demo.py`**：可视化演示系统。
- 基于 Streamlit 搭建的网页应用。加载训练好的模型，提供“单条测试”和“批量文件分析”两种功能。

- **`data/`**：存放数据集文件（如 `ChnSentiCorp_htl_all.csv`）。
- **`sentiment_model.pth`**：训练好的模型权重文件（运行训练脚本后生成）。

---

## 🛠️ 环境配置

在运行本项目前，请确保安装了以下依赖库：

```bash
pip install torch pandas jieba streamlit

```

---

## 🚀 快速开始 (Usage)

### 第一步：训练模型 (可跳过)

如果你想重新训练模型，请在终端运行以下命令。训练完成后，会自动生成/更新 `sentiment_model.pth` 文件。

```bash
# 请在项目根目录下运行
python model/run_model.py

```

> **提示**：控制台会显示每一轮 (Epoch) 的 Loss 和准确率，训练结束后会提示“模型参数已保存”。

### 第二步：启动可视化界面 (推荐)

这是本项目的核心演示功能。请在终端运行：

```bash
# 启动 Streamlit 网页服务
streamlit run model/web_demo.py

```

**运行后将自动在浏览器打开网页，你将看到以下功能：**

1. **单条测试模式**：

- 模拟客服场景。手动输入一段评论（如：“房间很干净，服务也好”），点击分析，AI 会实时判断情感并给出置信度。

2. **批量分析模式**：

- 模拟后台数据处理。上传包含 `review` 列的 `.csv` 文件，系统将自动分析所有评论，生成统计图表，并支持导出结果。

---

## 🧠 模型技术细节

- **模型架构**：Embedding 层 -> LSTM 层 -> 全连接层 (Linear)。
- **分词工具**：Jieba 中文分词。
- **序列处理**：统一填充/截断长度为 50 (MAX_LEN)。
- **性能指标**：测试集准确率约 **83% - 85%**。

---

## 📝 注意事项

1. 请确保运行命令时，终端路径位于项目的**根目录**（例如 `D:\毕设\-`），而不是 `model` 文件夹内部，否则可能会报“找不到文件”的错误。
2. 如果启动 Web 界面时提示找不到模型，请先运行 `run_model.py` 生成模型文件。

---

### 💡 为什么这么写？（给你的小抄）

我在这个文档里帮你强调了三个点，答辩时老师问起来你可以照着说：

1. **结构清晰**：我把 `run_model` 定义为“后端训练”，把 `web_demo` 定义为“前端展示”，这显得你软件工程思路很清晰。
2. **强调了批量功能**：在“启动可视化界面”里特意提到了**批量分析**，这是你区别于普通毕设的亮点。
3. **技术参数**：在“模型技术细节”里列出了 LSTM 和 Jieba，显得很专业。
