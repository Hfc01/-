````markdown
# 🛒 基于深度学习的电商评论情感分析系统 (Pro版)

> **Graduation Project: E-commerce Review Sentiment Analysis System based on Deep Learning**

本项目是一个基于 **LSTM (长短期记忆网络)** 的情感分析与文本挖掘系统，旨在自动识别电商/酒店评论的情感倾向（好评/差评）并提取核心关注维度。系统包含完整的**模型训练脚本**以及一个具备权限管理的**高级可视化 Web 数据大屏**，支持单文本实时诊断和大规模 CSV 文件的批量挖掘与交互式分析。

---

## 📂 项目结构说明

- **`model/run_model.py`**：核心训练脚本。
  - 负责读取原始数据、文本预处理、构建 LSTM 神经网络、执行训练，并最终保存模型权重参数 (`sentiment_model.pth`)。

- **`model/web_demo.py`**：可视化业务展现系统（主程序）。
  - 基于 Streamlit 构建的企业级交互应用。集成了用户鉴权、全局监控大屏、单文本诊断、批量挖掘与系统配置等核心模块。

- **`data/`**：存放原始数据集文件（如 `ChnSentiCorp_htl_all.csv`）。
- **`sentiment_model.pth`**：训练完成的模型权重文件（由训练脚本生成，Web 端依赖此文件进行推断）。
- **`users.db`**：本地轻量级 SQLite 数据库（由 Web 系统自动生成，用于存储管理员账号与加密密码）。

---

## 🛠️ 环境配置

在运行本项目前，请确保环境中已安装以下核心依赖库。**注意：本次升级新增了高级可视化图表库 `plotly`。**

```bash
pip install torch pandas jieba streamlit plotly matplotlib wordcloud
```
````

---

## 🚀 快速开始 (Usage)

### 第一步：模型训练 (按需执行)

如需重新训练或微调模型，请在项目根目录下运行以下指令。训练完成后，系统会自动生成/更新 `sentiment_model.pth` 权重文件。

```bash
python model/run_model.py

```

> **提示**：控制台将实时输出训练过程中的 Epoch、Loss 和 Accuracy 变化。

### 第二步：启动智能终端系统 (核心演示)

请在终端运行以下指令启动 Web 服务环境：

```bash
streamlit run model/web_demo.py

```

**系统启动后将在浏览器自动呈现，核心功能矩阵如下：**

1. **🔐 账号登录与鉴权**：系统首屏为安全登录拦截，首次使用请切换至注册标签页创建管理员账号。
2. **📊 全局监控大屏 (Dashboard)**：提供基于 Plotly 的交互式数据可视化，包含情感极性占比环形图、维度关注度排行及情感交叉分析。
3. **📝 单条诊断 (Single Test)**：模拟客服与质检场景。输入任意文本，系统实时输出情感极性、置信度及提取的业务维度（如“服务态度”、“卫生设施”等）。
4. **📂 批量挖掘 (Batch Mining)**：支持 CSV 文件的高效导入，执行全量自动化推断、维度打标与结果导出。
5. **⚙️ 系统设置 (Settings)**：支持动态配置自定义停用词库及分析阈值，满足不同垂直领域的分析需求。

---

## 🧠 核心技术架构

- **深度学习模型**：Embedding 层 -> LSTM 层 -> 全连接层 (Linear)。
- **文本预处理**：采用 Jieba 中文分词构建词表，序列统一执行长度为 50 (MAX_LEN) 的 Padding/Truncating。
- **业务特征提取**：基于特定规则库结合自然语言匹配，实现多维度的自动抽取。
- **数据持久化**：采用内置 `sqlite3` 与 `hashlib` SHA-256 加密实现本地化的安全账号管理。

---

## 📝 部署与运行须知

1. **路径规范**：请务必确保执行启动命令时，终端的工作路径处于项目的**根目录**（例如 `D:\毕设\-`），而非 `model` 子目录内，以免触发相对路径索引错误。
2. **冷启动说明**：若启动 Web 界面后系统提示未检测到模型，表明根目录下缺失 `sentiment_model.pth`。系统会开启无模型的“演示模式”（部分结果通过模拟生成），建议优先运行 `run_model.py` 以获得真实的神经网络推断体验。
